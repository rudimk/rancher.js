[![Build Status](https://travis-ci.org/rudimk/rancher.js.svg?branch=master)](https://travis-ci.org/rudimk/rancher.js)

# rancher.js
A (hopefully?) awesome Javascript wrapper around the Rancher API for container orchestration.

## Usage

### Getting started

The first step is initializing a connection to your Rancher cluster. 

```javascript

const cattleRustler = new rancher.Rancher(BASE_URL, API_KEY, API_SECRET)

```

The base URL is the URL Rancher uses to communicate with its API. For instance, if you access Rancher at rancher.example.com:8080, then the base URL would be `http://rancher.example.com:8080`. HTTPS URLs also work. API keys and secrets can be generated by navigating to `API > Keys > Add Account API Key`. Note that rancher.js doesn't support environment API keys at this point.

First, it's important to get a list of your Rancher environments - this will be needed later.

```javascript
cattleRustler.getEnvironments()
.then((result) => {
	console.log(result)
	})
```

The library is promises-based, so `await` work just fine:

```javascript
// Inside an async function
let environments = await cattleRustler.getEnvironments()
```

Here's how you can grab a list of Rancher stacks in a particular environment:

```javascript
// Inside an async function
let stacks = await cattleRustler.getStacks(environmentId)
```

To get a list of services inside a stack:

```javascript
// Inside an async function
let services = await cattleRustler.getServices(stackId)
```


